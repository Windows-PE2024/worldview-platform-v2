{"ast":null,"code":"var _jsxFileName = \"D:\\\\\\u7F16\\u7A0B\\u9879\\u76EE\\\\Nood.js\\\\world\\\\client\\\\src\\\\components\\\\comments\\\\CommentSection.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useAuth } from '../../context/AuthContext';\nimport { API_ENDPOINTS, apiRequest } from '../../utils/api';\nimport './CommentSection.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CommentSection = ({\n  worldviewId\n}) => {\n  _s();\n  const {\n    isAuthenticated,\n    user\n  } = useAuth();\n  const [comments, setComments] = useState([]);\n  const [newComment, setNewComment] = useState('');\n  const [replyTo, setReplyTo] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [submitting, setSubmitting] = useState(false);\n  useEffect(() => {\n    const fetchComments = async () => {\n      try {\n        setLoading(true);\n        const data = await apiRequest(`${API_ENDPOINTS.COMMENTS}/worldview/${worldviewId}`);\n        setComments(data.comments || []);\n        setLoading(false);\n      } catch (err) {\n        console.error('获取评论失败:', err);\n        setComments([]);\n        setLoading(false);\n      }\n    };\n    fetchComments();\n  }, [worldviewId]);\n  const handleCommentSubmit = async e => {\n    e.preventDefault();\n    if (!newComment.trim()) return;\n    if (!isAuthenticated) {\n      alert('请先登录后再评论');\n      return;\n    }\n    setSubmitting(true);\n    try {\n      const data = await apiRequest(API_ENDPOINTS.COMMENTS, {\n        method: 'POST',\n        body: JSON.stringify({\n          content: newComment,\n          worldviewId,\n          parentCommentId: replyTo\n        })\n      });\n      if (replyTo) {\n        // 如果是回复，更新对应评论的回复列表\n        setComments(prevComments => prevComments.map(comment => {\n          if (comment.id === replyTo) {\n            return {\n              ...comment,\n              replies: [...comment.replies, data]\n            };\n          }\n          return comment;\n        }));\n      } else {\n        // 如果是顶级评论，添加到评论列表\n        setComments(prevComments => [data, ...prevComments]);\n      }\n      setNewComment('');\n      setReplyTo(null);\n    } catch (err) {\n      console.error('提交评论失败:', err);\n    }\n    setSubmitting(false);\n  };\n  const handleLike = async commentId => {\n    if (!isAuthenticated) {\n      alert('请先登录后再点赞');\n      return;\n    }\n    try {\n      const res = await fetch(`/api/comments/${commentId}/like`, {\n        method: 'POST',\n        headers: {\n          'Authorization': `Bearer ${localStorage.getItem('token')}`\n        }\n      });\n      const data = await res.json();\n      if (res.ok) {\n        // 更新评论点赞数\n        const updateCommentLikes = comments => {\n          return comments.map(comment => {\n            if (comment.id === commentId) {\n              return {\n                ...comment,\n                likesCount: data.likesCount\n              };\n            }\n            if (comment.replies && comment.replies.length > 0) {\n              return {\n                ...comment,\n                replies: updateCommentLikes(comment.replies)\n              };\n            }\n            return comment;\n          });\n        };\n        setComments(updateCommentLikes(comments));\n      }\n    } catch (err) {\n      console.error('点赞失败:', err);\n    }\n  };\n  const formatDate = dateString => {\n    const options = {\n      year: 'numeric',\n      month: 'short',\n      day: 'numeric',\n      hour: '2-digit',\n      minute: '2-digit'\n    };\n    return new Date(dateString).toLocaleDateString(undefined, options);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"comment-section\",\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      children: [\"\\u8BC4\\u8BBA (\", comments.length, \")\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 7\n    }, this), isAuthenticated && /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleCommentSubmit,\n      className: \"comment-form\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: /*#__PURE__*/_jsxDEV(\"textarea\", {\n          value: newComment,\n          onChange: e => setNewComment(e.target.value),\n          className: \"form-control\",\n          rows: \"3\",\n          placeholder: replyTo ? `回复 @${replyTo.username}...` : '写下你的评论...'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 11\n      }, this), replyTo && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"replying-to\",\n        children: [\"\\u56DE\\u590D\\u7ED9 @\", replyTo.username, /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          className: \"btn-cancel-reply\",\n          onClick: () => setReplyTo(null),\n          children: \"\\u53D6\\u6D88\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        className: \"btn btn-primary\",\n        disabled: submitting || !newComment.trim(),\n        children: submitting ? '提交中...' : '发表评论'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 9\n    }, this), !isAuthenticated && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"login-prompt\",\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"\\u8BF7 \", /*#__PURE__*/_jsxDEV(\"a\", {\n          href: \"/login\",\n          children: \"\\u767B\\u5F55\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 177,\n          columnNumber: 16\n        }, this), \" \\u540E\\u53D1\\u8868\\u8BC4\\u8BBA\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 9\n    }, this), loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-center\",\n      children: \"\\u52A0\\u8F7D\\u8BC4\\u8BBA\\u4E2D...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 9\n    }, this) : comments.length > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"comments-list\",\n      children: comments.map(comment => /*#__PURE__*/_jsxDEV(CommentItem, {\n        comment: comment,\n        onReply: comment => setReplyTo(comment),\n        onLike: handleLike,\n        formatDate: formatDate\n      }, comment.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 13\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"no-comments\",\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"\\u6682\\u65E0\\u8BC4\\u8BBA\\uFF0C\\u5FEB\\u6765\\u53D1\\u8868\\u7B2C\\u4E00\\u6761\\u8BC4\\u8BBA\\u5427\\uFF01\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 137,\n    columnNumber: 5\n  }, this);\n};\n\n// 评论项组件\n_s(CommentSection, \"oPxS6gceOqY0DtXr+f9LKifYpkM=\", false, function () {\n  return [useAuth];\n});\n_c = CommentSection;\nconst CommentItem = ({\n  comment,\n  onReply,\n  onLike,\n  formatDate\n}) => {\n  _s2();\n  var _comment$likes;\n  const {\n    isAuthenticated,\n    user\n  } = useAuth();\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"comment-item\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"comment-avatar\",\n      children: /*#__PURE__*/_jsxDEV(\"img\", {\n        src: comment.author.avatar || 'https://picsum.photos/seed/avatar/40/40.jpg',\n        alt: \"\\u7528\\u6237\\u5934\\u50CF\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 210,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"comment-content\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"comment-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"comment-author\",\n          children: comment.author.username\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 219,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"comment-date\",\n          children: formatDate(comment.createdAt)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 220,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 218,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"comment-body\",\n        children: comment.content\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 223,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"comment-actions\",\n        children: [isAuthenticated && /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"comment-action\",\n          onClick: () => onReply(comment.author),\n          children: \"\\u56DE\\u590D\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 227,\n          columnNumber: 13\n        }, this), isAuthenticated && /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"comment-action like-btn\",\n          onClick: () => onLike(comment.id),\n          children: [\"\\u2764\\uFE0F \", comment.likesCount || ((_comment$likes = comment.likes) === null || _comment$likes === void 0 ? void 0 : _comment$likes.length) || 0]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 236,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 9\n      }, this), comment.replies && comment.replies.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"comment-replies\",\n        children: comment.replies.map(reply => {\n          var _reply$likes;\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"comment-reply\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"comment-avatar\",\n              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                src: reply.author.avatar || 'https://picsum.photos/seed/avatar/30/30.jpg',\n                alt: \"\\u7528\\u6237\\u5934\\u50CF\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 250,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 249,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"reply-content\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"comment-header\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"comment-author\",\n                  children: reply.author.username\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 258,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"comment-date\",\n                  children: formatDate(reply.createdAt)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 259,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 257,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"comment-body\",\n                children: reply.content\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 262,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"comment-actions\",\n                children: isAuthenticated && /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"comment-action like-btn\",\n                  onClick: () => onLike(reply.id),\n                  children: [\"\\u2764\\uFE0F \", reply.likesCount || ((_reply$likes = reply.likes) === null || _reply$likes === void 0 ? void 0 : _reply$likes.length) || 0]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 266,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 264,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 256,\n              columnNumber: 17\n            }, this)]\n          }, reply.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 248,\n            columnNumber: 15\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 246,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 217,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 209,\n    columnNumber: 5\n  }, this);\n};\n_s2(CommentItem, \"zqOjhT7Uiy3zlq7M7mfKh34T04g=\", false, function () {\n  return [useAuth];\n});\n_c2 = CommentItem;\nexport default CommentSection;\nvar _c, _c2;\n$RefreshReg$(_c, \"CommentSection\");\n$RefreshReg$(_c2, \"CommentItem\");","map":{"version":3,"names":["React","useState","useEffect","useAuth","API_ENDPOINTS","apiRequest","jsxDEV","_jsxDEV","CommentSection","worldviewId","_s","isAuthenticated","user","comments","setComments","newComment","setNewComment","replyTo","setReplyTo","loading","setLoading","submitting","setSubmitting","fetchComments","data","COMMENTS","err","console","error","handleCommentSubmit","e","preventDefault","trim","alert","method","body","JSON","stringify","content","parentCommentId","prevComments","map","comment","id","replies","handleLike","commentId","res","fetch","headers","localStorage","getItem","json","ok","updateCommentLikes","likesCount","length","formatDate","dateString","options","year","month","day","hour","minute","Date","toLocaleDateString","undefined","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","value","onChange","target","rows","placeholder","username","type","onClick","disabled","href","CommentItem","onReply","onLike","_c","_s2","_comment$likes","src","author","avatar","alt","createdAt","likes","reply","_reply$likes","_c2","$RefreshReg$"],"sources":["D:/编程项目/Nood.js/world/client/src/components/comments/CommentSection.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useAuth } from '../../context/AuthContext';\nimport { API_ENDPOINTS, apiRequest } from '../../utils/api';\nimport './CommentSection.css';\n\nconst CommentSection = ({ worldviewId }) => {\n  const { isAuthenticated, user } = useAuth();\n  const [comments, setComments] = useState([]);\n  const [newComment, setNewComment] = useState('');\n  const [replyTo, setReplyTo] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [submitting, setSubmitting] = useState(false);\n\n  useEffect(() => {\n    const fetchComments = async () => {\n      try {\n        setLoading(true);\n        const data = await apiRequest(`${API_ENDPOINTS.COMMENTS}/worldview/${worldviewId}`);\n        setComments(data.comments || []);\n        setLoading(false);\n      } catch (err) {\n        console.error('获取评论失败:', err);\n        setComments([]);\n        setLoading(false);\n      }\n    };\n\n    fetchComments();\n  }, [worldviewId]);\n\n  const handleCommentSubmit = async (e) => {\n    e.preventDefault();\n    \n    if (!newComment.trim()) return;\n    \n    if (!isAuthenticated) {\n      alert('请先登录后再评论');\n      return;\n    }\n    \n    setSubmitting(true);\n    \n    try {\n      const data = await apiRequest(API_ENDPOINTS.COMMENTS, {\n        method: 'POST',\n        body: JSON.stringify({\n          content: newComment,\n          worldviewId,\n          parentCommentId: replyTo\n        })\n      });\n      \n      if (replyTo) {\n        // 如果是回复，更新对应评论的回复列表\n        setComments(prevComments => \n          prevComments.map(comment => {\n            if (comment.id === replyTo) {\n              return {\n                ...comment,\n                replies: [...comment.replies, data]\n              };\n            }\n            return comment;\n          })\n        );\n      } else {\n        // 如果是顶级评论，添加到评论列表\n        setComments(prevComments => [data, ...prevComments]);\n      }\n      \n      setNewComment('');\n      setReplyTo(null);\n    } catch (err) {\n      console.error('提交评论失败:', err);\n    }\n    \n    setSubmitting(false);\n  };\n\n  const handleLike = async (commentId) => {\n    if (!isAuthenticated) {\n      alert('请先登录后再点赞');\n      return;\n    }\n    \n    try {\n      const res = await fetch(`/api/comments/${commentId}/like`, {\n        method: 'POST',\n        headers: {\n          'Authorization': `Bearer ${localStorage.getItem('token')}`\n        }\n      });\n      \n      const data = await res.json();\n      \n      if (res.ok) {\n        // 更新评论点赞数\n        const updateCommentLikes = (comments) => {\n          return comments.map(comment => {\n            if (comment.id === commentId) {\n              return {\n                ...comment,\n                likesCount: data.likesCount\n              };\n            }\n            \n            if (comment.replies && comment.replies.length > 0) {\n              return {\n                ...comment,\n                replies: updateCommentLikes(comment.replies)\n              };\n            }\n            \n            return comment;\n          });\n        };\n        \n        setComments(updateCommentLikes(comments));\n      }\n    } catch (err) {\n      console.error('点赞失败:', err);\n    }\n  };\n\n  const formatDate = (dateString) => {\n    const options = { \n      year: 'numeric', \n      month: 'short', \n      day: 'numeric',\n      hour: '2-digit',\n      minute: '2-digit'\n    };\n    return new Date(dateString).toLocaleDateString(undefined, options);\n  };\n\n  return (\n    <div className=\"comment-section\">\n      <h3>评论 ({comments.length})</h3>\n      \n      {isAuthenticated && (\n        <form onSubmit={handleCommentSubmit} className=\"comment-form\">\n          <div className=\"form-group\">\n            <textarea\n              value={newComment}\n              onChange={(e) => setNewComment(e.target.value)}\n              className=\"form-control\"\n              rows=\"3\"\n              placeholder={replyTo ? `回复 @${replyTo.username}...` : '写下你的评论...'}\n            ></textarea>\n          </div>\n          \n          {replyTo && (\n            <div className=\"replying-to\">\n              回复给 @{replyTo.username}\n              <button \n                type=\"button\" \n                className=\"btn-cancel-reply\"\n                onClick={() => setReplyTo(null)}\n              >\n                取消\n              </button>\n            </div>\n          )}\n          \n          <button \n            type=\"submit\" \n            className=\"btn btn-primary\"\n            disabled={submitting || !newComment.trim()}\n          >\n            {submitting ? '提交中...' : '发表评论'}\n          </button>\n        </form>\n      )}\n      \n      {!isAuthenticated && (\n        <div className=\"login-prompt\">\n          <p>请 <a href=\"/login\">登录</a> 后发表评论</p>\n        </div>\n      )}\n      \n      {loading ? (\n        <div className=\"text-center\">加载评论中...</div>\n      ) : comments.length > 0 ? (\n        <div className=\"comments-list\">\n          {comments.map(comment => (\n            <CommentItem \n              key={comment.id} \n              comment={comment} \n              onReply={(comment) => setReplyTo(comment)}\n              onLike={handleLike}\n              formatDate={formatDate}\n            />\n          ))}\n        </div>\n      ) : (\n        <div className=\"no-comments\">\n          <p>暂无评论，快来发表第一条评论吧！</p>\n        </div>\n      )}\n    </div>\n  );\n};\n\n// 评论项组件\nconst CommentItem = ({ comment, onReply, onLike, formatDate }) => {\n  const { isAuthenticated, user } = useAuth();\n  \n  return (\n    <div className=\"comment-item\">\n      <div className=\"comment-avatar\">\n        <img \n          src={comment.author.avatar || 'https://picsum.photos/seed/avatar/40/40.jpg'} \n          alt=\"用户头像\" \n        />\n      </div>\n      \n      <div className=\"comment-content\">\n        <div className=\"comment-header\">\n          <span className=\"comment-author\">{comment.author.username}</span>\n          <span className=\"comment-date\">{formatDate(comment.createdAt)}</span>\n        </div>\n        \n        <div className=\"comment-body\">{comment.content}</div>\n        \n        <div className=\"comment-actions\">\n          {isAuthenticated && (\n            <button \n              className=\"comment-action\"\n              onClick={() => onReply(comment.author)}\n            >\n              回复\n            </button>\n          )}\n          \n          {isAuthenticated && (\n            <button \n              className=\"comment-action like-btn\"\n              onClick={() => onLike(comment.id)}\n            >\n              ❤️ {comment.likesCount || comment.likes?.length || 0}\n            </button>\n          )}\n        </div>\n        \n        {comment.replies && comment.replies.length > 0 && (\n          <div className=\"comment-replies\">\n            {comment.replies.map(reply => (\n              <div key={reply.id} className=\"comment-reply\">\n                <div className=\"comment-avatar\">\n                  <img \n                    src={reply.author.avatar || 'https://picsum.photos/seed/avatar/30/30.jpg'} \n                    alt=\"用户头像\" \n                  />\n                </div>\n                \n                <div className=\"reply-content\">\n                  <div className=\"comment-header\">\n                    <span className=\"comment-author\">{reply.author.username}</span>\n                    <span className=\"comment-date\">{formatDate(reply.createdAt)}</span>\n                  </div>\n                  \n                  <div className=\"comment-body\">{reply.content}</div>\n                  \n                  <div className=\"comment-actions\">\n                    {isAuthenticated && (\n                      <button \n                        className=\"comment-action like-btn\"\n                        onClick={() => onLike(reply.id)}\n                      >\n                        ❤️ {reply.likesCount || reply.likes?.length || 0}\n                      </button>\n                    )}\n                  </div>\n                </div>\n              </div>\n            ))}\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default CommentSection;"],"mappings":";;;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,SAASC,OAAO,QAAQ,2BAA2B;AACnD,SAASC,aAAa,EAAEC,UAAU,QAAQ,iBAAiB;AAC3D,OAAO,sBAAsB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE9B,MAAMC,cAAc,GAAGA,CAAC;EAAEC;AAAY,CAAC,KAAK;EAAAC,EAAA;EAC1C,MAAM;IAAEC,eAAe;IAAEC;EAAK,CAAC,GAAGT,OAAO,CAAC,CAAC;EAC3C,MAAM,CAACU,QAAQ,EAAEC,WAAW,CAAC,GAAGb,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAM,CAACc,UAAU,EAAEC,aAAa,CAAC,GAAGf,QAAQ,CAAC,EAAE,CAAC;EAChD,MAAM,CAACgB,OAAO,EAAEC,UAAU,CAAC,GAAGjB,QAAQ,CAAC,IAAI,CAAC;EAC5C,MAAM,CAACkB,OAAO,EAAEC,UAAU,CAAC,GAAGnB,QAAQ,CAAC,IAAI,CAAC;EAC5C,MAAM,CAACoB,UAAU,EAAEC,aAAa,CAAC,GAAGrB,QAAQ,CAAC,KAAK,CAAC;EAEnDC,SAAS,CAAC,MAAM;IACd,MAAMqB,aAAa,GAAG,MAAAA,CAAA,KAAY;MAChC,IAAI;QACFH,UAAU,CAAC,IAAI,CAAC;QAChB,MAAMI,IAAI,GAAG,MAAMnB,UAAU,CAAC,GAAGD,aAAa,CAACqB,QAAQ,cAAchB,WAAW,EAAE,CAAC;QACnFK,WAAW,CAACU,IAAI,CAACX,QAAQ,IAAI,EAAE,CAAC;QAChCO,UAAU,CAAC,KAAK,CAAC;MACnB,CAAC,CAAC,OAAOM,GAAG,EAAE;QACZC,OAAO,CAACC,KAAK,CAAC,SAAS,EAAEF,GAAG,CAAC;QAC7BZ,WAAW,CAAC,EAAE,CAAC;QACfM,UAAU,CAAC,KAAK,CAAC;MACnB;IACF,CAAC;IAEDG,aAAa,CAAC,CAAC;EACjB,CAAC,EAAE,CAACd,WAAW,CAAC,CAAC;EAEjB,MAAMoB,mBAAmB,GAAG,MAAOC,CAAC,IAAK;IACvCA,CAAC,CAACC,cAAc,CAAC,CAAC;IAElB,IAAI,CAAChB,UAAU,CAACiB,IAAI,CAAC,CAAC,EAAE;IAExB,IAAI,CAACrB,eAAe,EAAE;MACpBsB,KAAK,CAAC,UAAU,CAAC;MACjB;IACF;IAEAX,aAAa,CAAC,IAAI,CAAC;IAEnB,IAAI;MACF,MAAME,IAAI,GAAG,MAAMnB,UAAU,CAACD,aAAa,CAACqB,QAAQ,EAAE;QACpDS,MAAM,EAAE,MAAM;QACdC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;UACnBC,OAAO,EAAEvB,UAAU;UACnBN,WAAW;UACX8B,eAAe,EAAEtB;QACnB,CAAC;MACH,CAAC,CAAC;MAEF,IAAIA,OAAO,EAAE;QACX;QACAH,WAAW,CAAC0B,YAAY,IACtBA,YAAY,CAACC,GAAG,CAACC,OAAO,IAAI;UAC1B,IAAIA,OAAO,CAACC,EAAE,KAAK1B,OAAO,EAAE;YAC1B,OAAO;cACL,GAAGyB,OAAO;cACVE,OAAO,EAAE,CAAC,GAAGF,OAAO,CAACE,OAAO,EAAEpB,IAAI;YACpC,CAAC;UACH;UACA,OAAOkB,OAAO;QAChB,CAAC,CACH,CAAC;MACH,CAAC,MAAM;QACL;QACA5B,WAAW,CAAC0B,YAAY,IAAI,CAAChB,IAAI,EAAE,GAAGgB,YAAY,CAAC,CAAC;MACtD;MAEAxB,aAAa,CAAC,EAAE,CAAC;MACjBE,UAAU,CAAC,IAAI,CAAC;IAClB,CAAC,CAAC,OAAOQ,GAAG,EAAE;MACZC,OAAO,CAACC,KAAK,CAAC,SAAS,EAAEF,GAAG,CAAC;IAC/B;IAEAJ,aAAa,CAAC,KAAK,CAAC;EACtB,CAAC;EAED,MAAMuB,UAAU,GAAG,MAAOC,SAAS,IAAK;IACtC,IAAI,CAACnC,eAAe,EAAE;MACpBsB,KAAK,CAAC,UAAU,CAAC;MACjB;IACF;IAEA,IAAI;MACF,MAAMc,GAAG,GAAG,MAAMC,KAAK,CAAC,iBAAiBF,SAAS,OAAO,EAAE;QACzDZ,MAAM,EAAE,MAAM;QACde,OAAO,EAAE;UACP,eAAe,EAAE,UAAUC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;QAC1D;MACF,CAAC,CAAC;MAEF,MAAM3B,IAAI,GAAG,MAAMuB,GAAG,CAACK,IAAI,CAAC,CAAC;MAE7B,IAAIL,GAAG,CAACM,EAAE,EAAE;QACV;QACA,MAAMC,kBAAkB,GAAIzC,QAAQ,IAAK;UACvC,OAAOA,QAAQ,CAAC4B,GAAG,CAACC,OAAO,IAAI;YAC7B,IAAIA,OAAO,CAACC,EAAE,KAAKG,SAAS,EAAE;cAC5B,OAAO;gBACL,GAAGJ,OAAO;gBACVa,UAAU,EAAE/B,IAAI,CAAC+B;cACnB,CAAC;YACH;YAEA,IAAIb,OAAO,CAACE,OAAO,IAAIF,OAAO,CAACE,OAAO,CAACY,MAAM,GAAG,CAAC,EAAE;cACjD,OAAO;gBACL,GAAGd,OAAO;gBACVE,OAAO,EAAEU,kBAAkB,CAACZ,OAAO,CAACE,OAAO;cAC7C,CAAC;YACH;YAEA,OAAOF,OAAO;UAChB,CAAC,CAAC;QACJ,CAAC;QAED5B,WAAW,CAACwC,kBAAkB,CAACzC,QAAQ,CAAC,CAAC;MAC3C;IACF,CAAC,CAAC,OAAOa,GAAG,EAAE;MACZC,OAAO,CAACC,KAAK,CAAC,OAAO,EAAEF,GAAG,CAAC;IAC7B;EACF,CAAC;EAED,MAAM+B,UAAU,GAAIC,UAAU,IAAK;IACjC,MAAMC,OAAO,GAAG;MACdC,IAAI,EAAE,SAAS;MACfC,KAAK,EAAE,OAAO;MACdC,GAAG,EAAE,SAAS;MACdC,IAAI,EAAE,SAAS;MACfC,MAAM,EAAE;IACV,CAAC;IACD,OAAO,IAAIC,IAAI,CAACP,UAAU,CAAC,CAACQ,kBAAkB,CAACC,SAAS,EAAER,OAAO,CAAC;EACpE,CAAC;EAED,oBACEpD,OAAA;IAAK6D,SAAS,EAAC,iBAAiB;IAAAC,QAAA,gBAC9B9D,OAAA;MAAA8D,QAAA,GAAI,gBAAI,EAACxD,QAAQ,CAAC2C,MAAM,EAAC,GAAC;IAAA;MAAAc,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,EAE9B9D,eAAe,iBACdJ,OAAA;MAAMmE,QAAQ,EAAE7C,mBAAoB;MAACuC,SAAS,EAAC,cAAc;MAAAC,QAAA,gBAC3D9D,OAAA;QAAK6D,SAAS,EAAC,YAAY;QAAAC,QAAA,eACzB9D,OAAA;UACEoE,KAAK,EAAE5D,UAAW;UAClB6D,QAAQ,EAAG9C,CAAC,IAAKd,aAAa,CAACc,CAAC,CAAC+C,MAAM,CAACF,KAAK,CAAE;UAC/CP,SAAS,EAAC,cAAc;UACxBU,IAAI,EAAC,GAAG;UACRC,WAAW,EAAE9D,OAAO,GAAG,OAAOA,OAAO,CAAC+D,QAAQ,KAAK,GAAG;QAAY;UAAAV,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACzD;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACT,CAAC,EAELxD,OAAO,iBACNV,OAAA;QAAK6D,SAAS,EAAC,aAAa;QAAAC,QAAA,GAAC,sBACtB,EAACpD,OAAO,CAAC+D,QAAQ,eACtBzE,OAAA;UACE0E,IAAI,EAAC,QAAQ;UACbb,SAAS,EAAC,kBAAkB;UAC5Bc,OAAO,EAAEA,CAAA,KAAMhE,UAAU,CAAC,IAAI,CAAE;UAAAmD,QAAA,EACjC;QAED;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACN,CACN,eAEDlE,OAAA;QACE0E,IAAI,EAAC,QAAQ;QACbb,SAAS,EAAC,iBAAiB;QAC3Be,QAAQ,EAAE9D,UAAU,IAAI,CAACN,UAAU,CAACiB,IAAI,CAAC,CAAE;QAAAqC,QAAA,EAE1ChD,UAAU,GAAG,QAAQ,GAAG;MAAM;QAAAiD,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACzB,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACL,CACP,EAEA,CAAC9D,eAAe,iBACfJ,OAAA;MAAK6D,SAAS,EAAC,cAAc;MAAAC,QAAA,eAC3B9D,OAAA;QAAA8D,QAAA,GAAG,SAAE,eAAA9D,OAAA;UAAG6E,IAAI,EAAC,QAAQ;UAAAf,QAAA,EAAC;QAAE;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAG,CAAC,mCAAM;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAG;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACnC,CACN,EAEAtD,OAAO,gBACNZ,OAAA;MAAK6D,SAAS,EAAC,aAAa;MAAAC,QAAA,EAAC;IAAQ;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAK,CAAC,GACzC5D,QAAQ,CAAC2C,MAAM,GAAG,CAAC,gBACrBjD,OAAA;MAAK6D,SAAS,EAAC,eAAe;MAAAC,QAAA,EAC3BxD,QAAQ,CAAC4B,GAAG,CAACC,OAAO,iBACnBnC,OAAA,CAAC8E,WAAW;QAEV3C,OAAO,EAAEA,OAAQ;QACjB4C,OAAO,EAAG5C,OAAO,IAAKxB,UAAU,CAACwB,OAAO,CAAE;QAC1C6C,MAAM,EAAE1C,UAAW;QACnBY,UAAU,EAAEA;MAAW,GAJlBf,OAAO,CAACC,EAAE;QAAA2B,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAKhB,CACF;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACC,CAAC,gBAENlE,OAAA;MAAK6D,SAAS,EAAC,aAAa;MAAAC,QAAA,eAC1B9D,OAAA;QAAA8D,QAAA,EAAG;MAAgB;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAG;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACpB,CACN;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACE,CAAC;AAEV,CAAC;;AAED;AAAA/D,EAAA,CAtMMF,cAAc;EAAA,QACgBL,OAAO;AAAA;AAAAqF,EAAA,GADrChF,cAAc;AAuMpB,MAAM6E,WAAW,GAAGA,CAAC;EAAE3C,OAAO;EAAE4C,OAAO;EAAEC,MAAM;EAAE9B;AAAW,CAAC,KAAK;EAAAgC,GAAA;EAAA,IAAAC,cAAA;EAChE,MAAM;IAAE/E,eAAe;IAAEC;EAAK,CAAC,GAAGT,OAAO,CAAC,CAAC;EAE3C,oBACEI,OAAA;IAAK6D,SAAS,EAAC,cAAc;IAAAC,QAAA,gBAC3B9D,OAAA;MAAK6D,SAAS,EAAC,gBAAgB;MAAAC,QAAA,eAC7B9D,OAAA;QACEoF,GAAG,EAAEjD,OAAO,CAACkD,MAAM,CAACC,MAAM,IAAI,6CAA8C;QAC5EC,GAAG,EAAC;MAAM;QAAAxB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACX;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACC,CAAC,eAENlE,OAAA;MAAK6D,SAAS,EAAC,iBAAiB;MAAAC,QAAA,gBAC9B9D,OAAA;QAAK6D,SAAS,EAAC,gBAAgB;QAAAC,QAAA,gBAC7B9D,OAAA;UAAM6D,SAAS,EAAC,gBAAgB;UAAAC,QAAA,EAAE3B,OAAO,CAACkD,MAAM,CAACZ;QAAQ;UAAAV,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAO,CAAC,eACjElE,OAAA;UAAM6D,SAAS,EAAC,cAAc;UAAAC,QAAA,EAAEZ,UAAU,CAACf,OAAO,CAACqD,SAAS;QAAC;UAAAzB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAO,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAClE,CAAC,eAENlE,OAAA;QAAK6D,SAAS,EAAC,cAAc;QAAAC,QAAA,EAAE3B,OAAO,CAACJ;MAAO;QAAAgC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAM,CAAC,eAErDlE,OAAA;QAAK6D,SAAS,EAAC,iBAAiB;QAAAC,QAAA,GAC7B1D,eAAe,iBACdJ,OAAA;UACE6D,SAAS,EAAC,gBAAgB;UAC1Bc,OAAO,EAAEA,CAAA,KAAMI,OAAO,CAAC5C,OAAO,CAACkD,MAAM,CAAE;UAAAvB,QAAA,EACxC;QAED;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CACT,EAEA9D,eAAe,iBACdJ,OAAA;UACE6D,SAAS,EAAC,yBAAyB;UACnCc,OAAO,EAAEA,CAAA,KAAMK,MAAM,CAAC7C,OAAO,CAACC,EAAE,CAAE;UAAA0B,QAAA,GACnC,eACI,EAAC3B,OAAO,CAACa,UAAU,MAAAmC,cAAA,GAAIhD,OAAO,CAACsD,KAAK,cAAAN,cAAA,uBAAbA,cAAA,CAAelC,MAAM,KAAI,CAAC;QAAA;UAAAc,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC9C,CACT;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACE,CAAC,EAEL/B,OAAO,CAACE,OAAO,IAAIF,OAAO,CAACE,OAAO,CAACY,MAAM,GAAG,CAAC,iBAC5CjD,OAAA;QAAK6D,SAAS,EAAC,iBAAiB;QAAAC,QAAA,EAC7B3B,OAAO,CAACE,OAAO,CAACH,GAAG,CAACwD,KAAK;UAAA,IAAAC,YAAA;UAAA,oBACxB3F,OAAA;YAAoB6D,SAAS,EAAC,eAAe;YAAAC,QAAA,gBAC3C9D,OAAA;cAAK6D,SAAS,EAAC,gBAAgB;cAAAC,QAAA,eAC7B9D,OAAA;gBACEoF,GAAG,EAAEM,KAAK,CAACL,MAAM,CAACC,MAAM,IAAI,6CAA8C;gBAC1EC,GAAG,EAAC;cAAM;gBAAAxB,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACX;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACC,CAAC,eAENlE,OAAA;cAAK6D,SAAS,EAAC,eAAe;cAAAC,QAAA,gBAC5B9D,OAAA;gBAAK6D,SAAS,EAAC,gBAAgB;gBAAAC,QAAA,gBAC7B9D,OAAA;kBAAM6D,SAAS,EAAC,gBAAgB;kBAAAC,QAAA,EAAE4B,KAAK,CAACL,MAAM,CAACZ;gBAAQ;kBAAAV,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAO,CAAC,eAC/DlE,OAAA;kBAAM6D,SAAS,EAAC,cAAc;kBAAAC,QAAA,EAAEZ,UAAU,CAACwC,KAAK,CAACF,SAAS;gBAAC;kBAAAzB,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAO,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAChE,CAAC,eAENlE,OAAA;gBAAK6D,SAAS,EAAC,cAAc;gBAAAC,QAAA,EAAE4B,KAAK,CAAC3D;cAAO;gBAAAgC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAM,CAAC,eAEnDlE,OAAA;gBAAK6D,SAAS,EAAC,iBAAiB;gBAAAC,QAAA,EAC7B1D,eAAe,iBACdJ,OAAA;kBACE6D,SAAS,EAAC,yBAAyB;kBACnCc,OAAO,EAAEA,CAAA,KAAMK,MAAM,CAACU,KAAK,CAACtD,EAAE,CAAE;kBAAA0B,QAAA,GACjC,eACI,EAAC4B,KAAK,CAAC1C,UAAU,MAAA2C,YAAA,GAAID,KAAK,CAACD,KAAK,cAAAE,YAAA,uBAAXA,YAAA,CAAa1C,MAAM,KAAI,CAAC;gBAAA;kBAAAc,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAC1C;cACT;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACE,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACH,CAAC;UAAA,GA1BEwB,KAAK,CAACtD,EAAE;YAAA2B,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OA2Bb,CAAC;QAAA,CACP;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACC,CACN;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACE,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEV,CAAC;AAACgB,GAAA,CA7EIJ,WAAW;EAAA,QACmBlF,OAAO;AAAA;AAAAgG,GAAA,GADrCd,WAAW;AA+EjB,eAAe7E,cAAc;AAAC,IAAAgF,EAAA,EAAAW,GAAA;AAAAC,YAAA,CAAAZ,EAAA;AAAAY,YAAA,CAAAD,GAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}