# 测试脚本说明

本目录包含用于测试和验证世界观平台各项功能的脚本。

## 脚本列表

### 1. 账户查询测试.js
**功能**：查询用户账户信息，测试数据库连接和用户模型
**用途**：验证用户数据是否正确存储，测试Sequelize连接PostgreSQL数据库
**运行方式**：`node test.js/账户查询测试.js`

### 2. 个人中心非公开世界观测试.js
**功能**：测试个人中心非公开世界观查看功能
**用途**：验证修复后的个人中心可以查看所有世界观（包括非公开的），而其他用户查看个人档案只能看到公开世界观
**运行方式**：`node test.js/个人中心非公开世界观测试.js`

### 3. 公开所有世界观.js
**功能**：将数据库中所有非公开的世界观设置为公开状态
**用途**：在需要将所有世界观公开时使用，例如在测试环境或特定场景下
**运行方式**：`node test.js/公开所有世界观.js`
**测试结果**：脚本已成功测试，找到3个非公开世界观并将其全部设置为公开状态，现在数据库中所有5个世界观都是公开状态

## 注意事项

1. 所有脚本都需要在项目根目录下运行
2. 确保数据库连接配置正确（.env文件）
3. 运行脚本前请确保数据库服务已启动
4. 部分脚本可能会修改数据库数据，请在测试环境中谨慎使用
5. 建议在运行修改数据的脚本前先备份数据库

## 脚本开发规范

1. 所有测试脚本都应放在test.js目录下
2. 脚本名称应清晰描述其功能
3. 每个脚本都应包含详细的功能说明和使用方法
4. 脚本应有适当的错误处理和日志输出
5. 修改数据的脚本应提供确认机制和结果验证