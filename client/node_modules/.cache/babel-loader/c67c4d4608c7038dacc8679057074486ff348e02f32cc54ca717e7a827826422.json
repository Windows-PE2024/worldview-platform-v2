{"ast":null,"code":"var _jsxFileName = \"D:\\\\\\u7F16\\u7A0B\\u9879\\u76EE\\\\Nood.js\\\\world\\\\client\\\\src\\\\components\\\\comments\\\\CommentSection.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useAuth } from '../../context/AuthContext';\nimport './CommentSection.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CommentSection = ({\n  worldviewId\n}) => {\n  _s();\n  const {\n    isAuthenticated,\n    user\n  } = useAuth();\n  const [comments, setComments] = useState([]);\n  const [newComment, setNewComment] = useState('');\n  const [replyTo, setReplyTo] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [submitting, setSubmitting] = useState(false);\n  useEffect(() => {\n    const fetchComments = async () => {\n      try {\n        setLoading(true);\n        const res = await fetch(`/api/comments/worldview/${worldviewId}`);\n        const data = await res.json();\n        setComments(data.comments);\n        setLoading(false);\n      } catch (err) {\n        console.error('获取评论失败:', err);\n        setLoading(false);\n      }\n    };\n    fetchComments();\n  }, [worldviewId]);\n  const handleCommentSubmit = async e => {\n    e.preventDefault();\n    if (!newComment.trim()) return;\n    if (!isAuthenticated) {\n      alert('请先登录后再评论');\n      return;\n    }\n    setSubmitting(true);\n    try {\n      const res = await fetch('/api/comments', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${localStorage.getItem('token')}`\n        },\n        body: JSON.stringify({\n          content: newComment,\n          worldviewId,\n          parentCommentId: replyTo\n        })\n      });\n      const data = await res.json();\n      if (res.ok) {\n        if (replyTo) {\n          // 如果是回复，更新对应评论的回复列表\n          setComments(prevComments => prevComments.map(comment => {\n            if (comment._id === replyTo) {\n              return {\n                ...comment,\n                replies: [...comment.replies, data]\n              };\n            }\n            return comment;\n          }));\n        } else {\n          // 如果是顶级评论，添加到评论列表\n          setComments(prevComments => [data, ...prevComments]);\n        }\n        setNewComment('');\n        setReplyTo(null);\n      }\n    } catch (err) {\n      console.error('提交评论失败:', err);\n    }\n    setSubmitting(false);\n  };\n  const handleLike = async commentId => {\n    if (!isAuthenticated) {\n      alert('请先登录后再点赞');\n      return;\n    }\n    try {\n      const res = await fetch(`/api/comments/${commentId}/like`, {\n        method: 'POST',\n        headers: {\n          'Authorization': `Bearer ${localStorage.getItem('token')}`\n        }\n      });\n      const data = await res.json();\n      if (res.ok) {\n        // 更新评论点赞数\n        const updateCommentLikes = comments => {\n          return comments.map(comment => {\n            if (comment._id === commentId) {\n              return {\n                ...comment,\n                likesCount: data.likesCount\n              };\n            }\n            if (comment.replies && comment.replies.length > 0) {\n              return {\n                ...comment,\n                replies: updateCommentLikes(comment.replies)\n              };\n            }\n            return comment;\n          });\n        };\n        setComments(updateCommentLikes(comments));\n      }\n    } catch (err) {\n      console.error('点赞失败:', err);\n    }\n  };\n  const formatDate = dateString => {\n    const options = {\n      year: 'numeric',\n      month: 'short',\n      day: 'numeric',\n      hour: '2-digit',\n      minute: '2-digit'\n    };\n    return new Date(dateString).toLocaleDateString(undefined, options);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"comment-section\",\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      children: [\"\\u8BC4\\u8BBA (\", comments.length, \")\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 7\n    }, this), isAuthenticated && /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleCommentSubmit,\n      className: \"comment-form\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: /*#__PURE__*/_jsxDEV(\"textarea\", {\n          value: newComment,\n          onChange: e => setNewComment(e.target.value),\n          className: \"form-control\",\n          rows: \"3\",\n          placeholder: replyTo ? `回复 @${replyTo.username}...` : '写下你的评论...'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 11\n      }, this), replyTo && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"replying-to\",\n        children: [\"\\u56DE\\u590D\\u7ED9 @\", replyTo.username, /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          className: \"btn-cancel-reply\",\n          onClick: () => setReplyTo(null),\n          children: \"\\u53D6\\u6D88\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        className: \"btn btn-primary\",\n        disabled: submitting || !newComment.trim(),\n        children: submitting ? '提交中...' : '发表评论'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 9\n    }, this), !isAuthenticated && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"login-prompt\",\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"\\u8BF7 \", /*#__PURE__*/_jsxDEV(\"a\", {\n          href: \"/login\",\n          children: \"\\u767B\\u5F55\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 16\n        }, this), \" \\u540E\\u53D1\\u8868\\u8BC4\\u8BBA\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 9\n    }, this), loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-center\",\n      children: \"\\u52A0\\u8F7D\\u8BC4\\u8BBA\\u4E2D...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 9\n    }, this) : comments.length > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"comments-list\",\n      children: comments.map(comment => /*#__PURE__*/_jsxDEV(CommentItem, {\n        comment: comment,\n        onReply: comment => setReplyTo(comment),\n        onLike: handleLike,\n        formatDate: formatDate\n      }, comment._id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 13\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"no-comments\",\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"\\u6682\\u65E0\\u8BC4\\u8BBA\\uFF0C\\u5FEB\\u6765\\u53D1\\u8868\\u7B2C\\u4E00\\u6761\\u8BC4\\u8BBA\\u5427\\uFF01\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 144,\n    columnNumber: 5\n  }, this);\n};\n\n// 评论项组件\n_s(CommentSection, \"oPxS6gceOqY0DtXr+f9LKifYpkM=\", false, function () {\n  return [useAuth];\n});\n_c = CommentSection;\nconst CommentItem = ({\n  comment,\n  onReply,\n  onLike,\n  formatDate\n}) => {\n  _s2();\n  var _comment$likes;\n  const {\n    isAuthenticated,\n    user\n  } = useAuth();\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"comment-item\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"comment-avatar\",\n      children: /*#__PURE__*/_jsxDEV(\"img\", {\n        src: comment.author.avatar || 'https://picsum.photos/seed/avatar/40/40.jpg',\n        alt: \"\\u7528\\u6237\\u5934\\u50CF\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 218,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 217,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"comment-content\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"comment-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"comment-author\",\n          children: comment.author.username\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 226,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"comment-date\",\n          children: formatDate(comment.createdAt)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 227,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"comment-body\",\n        children: comment.content\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 230,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"comment-actions\",\n        children: [isAuthenticated && /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"comment-action\",\n          onClick: () => onReply(comment.author),\n          children: \"\\u56DE\\u590D\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 234,\n          columnNumber: 13\n        }, this), isAuthenticated && /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"comment-action like-btn\",\n          onClick: () => onLike(comment._id),\n          children: [\"\\u2764\\uFE0F \", comment.likesCount || ((_comment$likes = comment.likes) === null || _comment$likes === void 0 ? void 0 : _comment$likes.length) || 0]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 243,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 232,\n        columnNumber: 9\n      }, this), comment.replies && comment.replies.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"comment-replies\",\n        children: comment.replies.map(reply => {\n          var _reply$likes;\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"comment-reply\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"comment-avatar\",\n              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                src: reply.author.avatar || 'https://picsum.photos/seed/avatar/30/30.jpg',\n                alt: \"\\u7528\\u6237\\u5934\\u50CF\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 257,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 256,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"reply-content\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"comment-header\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"comment-author\",\n                  children: reply.author.username\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 265,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"comment-date\",\n                  children: formatDate(reply.createdAt)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 266,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 264,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"comment-body\",\n                children: reply.content\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 269,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"comment-actions\",\n                children: isAuthenticated && /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"comment-action like-btn\",\n                  onClick: () => onLike(reply._id),\n                  children: [\"\\u2764\\uFE0F \", reply.likesCount || ((_reply$likes = reply.likes) === null || _reply$likes === void 0 ? void 0 : _reply$likes.length) || 0]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 273,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 271,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 263,\n              columnNumber: 17\n            }, this)]\n          }, reply._id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 255,\n            columnNumber: 15\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 253,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 224,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 216,\n    columnNumber: 5\n  }, this);\n};\n_s2(CommentItem, \"zqOjhT7Uiy3zlq7M7mfKh34T04g=\", false, function () {\n  return [useAuth];\n});\n_c2 = CommentItem;\nexport default CommentSection;\nvar _c, _c2;\n$RefreshReg$(_c, \"CommentSection\");\n$RefreshReg$(_c2, \"CommentItem\");","map":{"version":3,"names":["React","useState","useEffect","useAuth","jsxDEV","_jsxDEV","CommentSection","worldviewId","_s","isAuthenticated","user","comments","setComments","newComment","setNewComment","replyTo","setReplyTo","loading","setLoading","submitting","setSubmitting","fetchComments","res","fetch","data","json","err","console","error","handleCommentSubmit","e","preventDefault","trim","alert","method","headers","localStorage","getItem","body","JSON","stringify","content","parentCommentId","ok","prevComments","map","comment","_id","replies","handleLike","commentId","updateCommentLikes","likesCount","length","formatDate","dateString","options","year","month","day","hour","minute","Date","toLocaleDateString","undefined","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","value","onChange","target","rows","placeholder","username","type","onClick","disabled","href","CommentItem","onReply","onLike","_c","_s2","_comment$likes","src","author","avatar","alt","createdAt","likes","reply","_reply$likes","_c2","$RefreshReg$"],"sources":["D:/编程项目/Nood.js/world/client/src/components/comments/CommentSection.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useAuth } from '../../context/AuthContext';\nimport './CommentSection.css';\n\nconst CommentSection = ({ worldviewId }) => {\n  const { isAuthenticated, user } = useAuth();\n  const [comments, setComments] = useState([]);\n  const [newComment, setNewComment] = useState('');\n  const [replyTo, setReplyTo] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [submitting, setSubmitting] = useState(false);\n\n  useEffect(() => {\n    const fetchComments = async () => {\n      try {\n        setLoading(true);\n        const res = await fetch(`/api/comments/worldview/${worldviewId}`);\n        const data = await res.json();\n        setComments(data.comments);\n        setLoading(false);\n      } catch (err) {\n        console.error('获取评论失败:', err);\n        setLoading(false);\n      }\n    };\n\n    fetchComments();\n  }, [worldviewId]);\n\n  const handleCommentSubmit = async (e) => {\n    e.preventDefault();\n    \n    if (!newComment.trim()) return;\n    \n    if (!isAuthenticated) {\n      alert('请先登录后再评论');\n      return;\n    }\n    \n    setSubmitting(true);\n    \n    try {\n      const res = await fetch('/api/comments', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${localStorage.getItem('token')}`\n        },\n        body: JSON.stringify({\n          content: newComment,\n          worldviewId,\n          parentCommentId: replyTo\n        })\n      });\n      \n      const data = await res.json();\n      \n      if (res.ok) {\n        if (replyTo) {\n          // 如果是回复，更新对应评论的回复列表\n          setComments(prevComments => \n            prevComments.map(comment => {\n              if (comment._id === replyTo) {\n                return {\n                  ...comment,\n                  replies: [...comment.replies, data]\n                };\n              }\n              return comment;\n            })\n          );\n        } else {\n          // 如果是顶级评论，添加到评论列表\n          setComments(prevComments => [data, ...prevComments]);\n        }\n        \n        setNewComment('');\n        setReplyTo(null);\n      }\n    } catch (err) {\n      console.error('提交评论失败:', err);\n    }\n    \n    setSubmitting(false);\n  };\n\n  const handleLike = async (commentId) => {\n    if (!isAuthenticated) {\n      alert('请先登录后再点赞');\n      return;\n    }\n    \n    try {\n      const res = await fetch(`/api/comments/${commentId}/like`, {\n        method: 'POST',\n        headers: {\n          'Authorization': `Bearer ${localStorage.getItem('token')}`\n        }\n      });\n      \n      const data = await res.json();\n      \n      if (res.ok) {\n        // 更新评论点赞数\n        const updateCommentLikes = (comments) => {\n          return comments.map(comment => {\n            if (comment._id === commentId) {\n              return {\n                ...comment,\n                likesCount: data.likesCount\n              };\n            }\n            \n            if (comment.replies && comment.replies.length > 0) {\n              return {\n                ...comment,\n                replies: updateCommentLikes(comment.replies)\n              };\n            }\n            \n            return comment;\n          });\n        };\n        \n        setComments(updateCommentLikes(comments));\n      }\n    } catch (err) {\n      console.error('点赞失败:', err);\n    }\n  };\n\n  const formatDate = (dateString) => {\n    const options = { \n      year: 'numeric', \n      month: 'short', \n      day: 'numeric',\n      hour: '2-digit',\n      minute: '2-digit'\n    };\n    return new Date(dateString).toLocaleDateString(undefined, options);\n  };\n\n  return (\n    <div className=\"comment-section\">\n      <h3>评论 ({comments.length})</h3>\n      \n      {isAuthenticated && (\n        <form onSubmit={handleCommentSubmit} className=\"comment-form\">\n          <div className=\"form-group\">\n            <textarea\n              value={newComment}\n              onChange={(e) => setNewComment(e.target.value)}\n              className=\"form-control\"\n              rows=\"3\"\n              placeholder={replyTo ? `回复 @${replyTo.username}...` : '写下你的评论...'}\n            ></textarea>\n          </div>\n          \n          {replyTo && (\n            <div className=\"replying-to\">\n              回复给 @{replyTo.username}\n              <button \n                type=\"button\" \n                className=\"btn-cancel-reply\"\n                onClick={() => setReplyTo(null)}\n              >\n                取消\n              </button>\n            </div>\n          )}\n          \n          <button \n            type=\"submit\" \n            className=\"btn btn-primary\"\n            disabled={submitting || !newComment.trim()}\n          >\n            {submitting ? '提交中...' : '发表评论'}\n          </button>\n        </form>\n      )}\n      \n      {!isAuthenticated && (\n        <div className=\"login-prompt\">\n          <p>请 <a href=\"/login\">登录</a> 后发表评论</p>\n        </div>\n      )}\n      \n      {loading ? (\n        <div className=\"text-center\">加载评论中...</div>\n      ) : comments.length > 0 ? (\n        <div className=\"comments-list\">\n          {comments.map(comment => (\n            <CommentItem \n              key={comment._id} \n              comment={comment} \n              onReply={(comment) => setReplyTo(comment)}\n              onLike={handleLike}\n              formatDate={formatDate}\n            />\n          ))}\n        </div>\n      ) : (\n        <div className=\"no-comments\">\n          <p>暂无评论，快来发表第一条评论吧！</p>\n        </div>\n      )}\n    </div>\n  );\n};\n\n// 评论项组件\nconst CommentItem = ({ comment, onReply, onLike, formatDate }) => {\n  const { isAuthenticated, user } = useAuth();\n  \n  return (\n    <div className=\"comment-item\">\n      <div className=\"comment-avatar\">\n        <img \n          src={comment.author.avatar || 'https://picsum.photos/seed/avatar/40/40.jpg'} \n          alt=\"用户头像\" \n        />\n      </div>\n      \n      <div className=\"comment-content\">\n        <div className=\"comment-header\">\n          <span className=\"comment-author\">{comment.author.username}</span>\n          <span className=\"comment-date\">{formatDate(comment.createdAt)}</span>\n        </div>\n        \n        <div className=\"comment-body\">{comment.content}</div>\n        \n        <div className=\"comment-actions\">\n          {isAuthenticated && (\n            <button \n              className=\"comment-action\"\n              onClick={() => onReply(comment.author)}\n            >\n              回复\n            </button>\n          )}\n          \n          {isAuthenticated && (\n            <button \n              className=\"comment-action like-btn\"\n              onClick={() => onLike(comment._id)}\n            >\n              ❤️ {comment.likesCount || comment.likes?.length || 0}\n            </button>\n          )}\n        </div>\n        \n        {comment.replies && comment.replies.length > 0 && (\n          <div className=\"comment-replies\">\n            {comment.replies.map(reply => (\n              <div key={reply._id} className=\"comment-reply\">\n                <div className=\"comment-avatar\">\n                  <img \n                    src={reply.author.avatar || 'https://picsum.photos/seed/avatar/30/30.jpg'} \n                    alt=\"用户头像\" \n                  />\n                </div>\n                \n                <div className=\"reply-content\">\n                  <div className=\"comment-header\">\n                    <span className=\"comment-author\">{reply.author.username}</span>\n                    <span className=\"comment-date\">{formatDate(reply.createdAt)}</span>\n                  </div>\n                  \n                  <div className=\"comment-body\">{reply.content}</div>\n                  \n                  <div className=\"comment-actions\">\n                    {isAuthenticated && (\n                      <button \n                        className=\"comment-action like-btn\"\n                        onClick={() => onLike(reply._id)}\n                      >\n                        ❤️ {reply.likesCount || reply.likes?.length || 0}\n                      </button>\n                    )}\n                  </div>\n                </div>\n              </div>\n            ))}\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default CommentSection;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}